/**
 * Sign & Speak - Main Stylesheet
 * 
 * Design System:
 * - Typography: Fluid responsive scale using clamp() (40-64px → 12-13px)
 * - Spacing: Systematic 8pt grid (--space-1 to --space-24)
 * - Colors: Modern palette with gradients and semantic naming
 * - Components: Modular, reusable styles for cards, buttons, badges
 * 
 * Structure:
 * 1. CSS Reset & Base Styles
 * 2. Design Tokens (Colors, Typography, Spacing)
 * 3. Layout & Grid Systems
 * 4. Navigation & Header
 * 5. Buttons & Interactive Elements
 * 6. Cards & Containers
 * 7. Page-Specific Styles (Home, Child, Parent, Train)
 * 8. Utility Classes
 */

/* ========================================
   0. FONT IMPORTS
   ======================================== */
@import url('https://fonts.googleapis.com/css2?family=TeX+Gyre+Pagella:wght@400;700&display=swap');

/* ========================================
   1. CSS RESET & BASE STYLES
   ======================================== */
* { 
	box-sizing: border-box;
	/* Better text rendering on all devices */
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Mobile-first: Prevent text size adjustment on orientation change */
html {
	-webkit-text-size-adjust: 100%;
	-moz-text-size-adjust: 100%;
	-ms-text-size-adjust: 100%;
	text-size-adjust: 100%;
}

/* Better tap highlighting on mobile */
* {
	-webkit-tap-highlight-color: rgba(99, 102, 241, 0.1);
	tap-highlight-color: rgba(99, 102, 241, 0.1);
}

/* ========================================
   1.5 ACCESSIBILITY - SKIP LINKS & SR-ONLY
   ======================================== */

/* Skip link for keyboard users */
.skip-link {
	position: absolute;
	top: -40px;
	left: 0;
	z-index: 100;
	padding: 8px;
	background-color: var(--primary-color, #6366f1);
	color: white;
	text-decoration: none;
	font-weight: 600;
	border-radius: 0 0 4px 0;
}

.skip-link:focus {
	top: 0;
	outline: 3px solid var(--accent-color, #f59e0b);
	outline-offset: 2px;
}

/* Screen reader only content */
.sr-only {
	position: absolute;
	left: -10000px;
	width: 1px;
	height: 1px;
	overflow: hidden;
	clip: rect(0, 0, 0, 0);
	white-space: nowrap;
}

/* ========================================
   2. DESIGN TOKENS
   ======================================== */
:root { 
	/* Modern Color Palette - Light Mode (WCAG AA Compliant) */
	--primary: #4F46E5; /* Indigo 600 - Better contrast */
	--primary-light: #6366F1;
	--primary-dark: #4338CA;
	--secondary: #059669; /* Emerald 600 - Better contrast */
	--secondary-light: #10B981;
	--accent: #D97706; /* Amber 600 - Better contrast */
	--accent-light: #F59E0B;
	--danger: #DC2626; /* Red 600 - Better contrast */
	--ink: #0F172A; /* Slate 900 - Maximum contrast */
	--ink-light: #1E293B; /* Slate 800 */
	--bg: #FFFFFF; /* Pure white for maximum contrast */
	--bg-alt: #F8FAFC; /* Slate 50 */
	--card: #FFFFFF;
	--border: #CBD5E1; /* Slate 300 - Better visibility */
	--border-light: #E2E8F0;
	--muted: #475569; /* Slate 600 - WCAG AA compliant (4.5:1 on white) */
	--muted-light: #64748B; /* Slate 500 */
	
	/* Focus and interaction colors */
	--focus-ring: #3B82F6; /* Blue 500 - High visibility */
	--focus-ring-offset: #FFFFFF;
	
	/* Gradient Combinations */
	--gradient-primary: linear-gradient(135deg, #4F46E5 0%, #7C3AED 100%);
	--gradient-secondary: linear-gradient(135deg, #059669 0%, #0D9488 100%);
	--gradient-warm: linear-gradient(135deg, #D97706 0%, #EA580C 100%);
	--gradient-brand: linear-gradient(135deg, #4F46E5 0%, #0D9488 100%);
	
	/* Z-Index Elevation System (Material Design inspired) */
	--z-base: 0;
	--z-dropdown: 1000;
	--z-sticky: 1020;
	--z-fixed: 1030;
	--z-modal-backdrop: 1040;
	--z-modal: 1050;
	--z-popover: 1060;
	--z-tooltip: 1070;
	
	/* Shadow Elevation System */
	--elevation-0: none;
	--elevation-1: 0 1px 3px rgba(0,0,0,0.06), 0 1px 2px rgba(0,0,0,0.04);
	--elevation-2: 0 4px 6px rgba(0,0,0,0.07), 0 2px 4px rgba(0,0,0,0.05);
	--elevation-3: 0 10px 15px rgba(0,0,0,0.1), 0 4px 6px rgba(0,0,0,0.08);
	--elevation-4: 0 20px 25px rgba(0,0,0,0.12), 0 10px 10px rgba(0,0,0,0.08);
	--elevation-5: 0 25px 50px rgba(0,0,0,0.15), 0 12px 24px rgba(0,0,0,0.1);
	
	/* Typography System - Fluid Scale with clamp() */
	/* Display (Hero Headlines) */
	--text-display: clamp(2.5rem, 5vw + 1rem, 4rem); /* 40-64px */
	--text-display-line: 1.1;
	--text-display-weight: 800;
	--text-display-tracking: -0.02em;
	
	/* H1 (Page Titles) */
	--text-h1: clamp(2rem, 3vw + 1rem, 3rem); /* 32-48px */
	--text-h1-line: 1.2;
	--text-h1-weight: 800;
	--text-h1-tracking: -0.015em;
	
	/* H2 (Section Titles) */
	--text-h2: clamp(1.5rem, 2vw + 0.5rem, 2.25rem); /* 24-36px */
	--text-h2-line: 1.3;
	--text-h2-weight: 700;
	--text-h2-tracking: -0.01em;
	
	/* H3 (Card Titles) */
	--text-h3: clamp(1.125rem, 1.5vw + 0.5rem, 1.5rem); /* 18-24px */
	--text-h3-line: 1.4;
	--text-h3-weight: 700;
	--text-h3-tracking: 0;
	
	/* H4 (Subsections) */
	--text-h4: clamp(1rem, 1vw + 0.5rem, 1.25rem); /* 16-20px */
	--text-h4-line: 1.5;
	--text-h4-weight: 600;
	--text-h4-tracking: 0;
	
	/* Body Large (Lead Paragraph) */
	--text-lead: clamp(1.125rem, 1vw + 0.5rem, 1.25rem); /* 18-20px */
	--text-lead-line: 1.7;
	--text-lead-weight: 400;
	
	/* Body (Default) */
	--text-body: clamp(0.9375rem, 0.5vw + 0.75rem, 1rem); /* 15-16px */
	--text-body-line: 1.6;
	--text-body-weight: 400;
	
	/* Body Small */
	--text-sm: clamp(0.8125rem, 0.5vw + 0.625rem, 0.875rem); /* 13-14px */
	--text-sm-line: 1.5;
	--text-sm-weight: 400;
	
	/* Caption/Label */
	--text-xs: clamp(0.75rem, 0.25vw + 0.625rem, 0.8125rem); /* 12-13px */
	--text-xs-line: 1.4;
	--text-xs-weight: 500;
	
	/* Font Weight Scale */
	--weight-regular: 400;
	--weight-medium: 500;
	--weight-semibold: 600;
	--weight-bold: 700;
	--weight-extrabold: 800;
	
	/* Spacing System - 8pt Grid */
	/* Base unit: 8px (0.5rem) */
	--space-0: 0;
	--space-1: 0.25rem;  /* 4px - micro spacing */
	--space-2: 0.5rem;   /* 8px - tight spacing */
	--space-3: 0.75rem;  /* 12px - small gap */
	--space-4: 1rem;     /* 16px - base spacing */
	--space-5: 1.25rem;  /* 20px - comfortable gap */
	--space-6: 1.5rem;   /* 24px - medium spacing */
	--space-8: 2rem;     /* 32px - large spacing */
	--space-10: 2.5rem;  /* 40px - section spacing */
	--space-12: 3rem;    /* 48px - large section */
	--space-16: 4rem;    /* 64px - major section */
	--space-20: 5rem;    /* 80px - page section */
	--space-24: 6rem;    /* 96px - hero spacing */
	
	/* Semantic Spacing Aliases */
	--space-xs: var(--space-2);   /* 8px */
	--space-sm: var(--space-3);   /* 12px */
	--space-md: var(--space-4);   /* 16px */
	--space-lg: var(--space-6);   /* 24px */
	--space-xl: var(--space-8);   /* 32px */
	--space-2xl: var(--space-12); /* 48px */
	--space-3xl: var(--space-16); /* 64px */
	--space-4xl: var(--space-20); /* 80px */
	--space-5xl: var(--space-24); /* 96px */
}

/* ========================================
   3. LAYOUT & TYPOGRAPHY BASE
   ======================================== */
body { 
	margin: 0; 
	padding-top: 72px; /* Space for fixed navbar */
	font-family: 'TeX Gyre Pagella', Georgia, serif; 
	color: var(--ink); 
	background: var(--bg);
	font-size: var(--text-body);
	line-height: var(--text-body-line);
	font-weight: var(--weight-regular);
	-webkit-font-smoothing: antialiased;
	-moz-osx-font-smoothing: grayscale;
}

/* Typography Hierarchy */
h1, h2, h3, h4, h5, h6 {
	margin: 0 0 0.75em;
	font-weight: var(--weight-bold);
	line-height: 1.3;
	color: var(--ink);
}

h1 {
	font-size: var(--text-h1);
	line-height: var(--text-h1-line);
	font-weight: var(--text-h1-weight);
	letter-spacing: var(--text-h1-tracking);
}

h2 {
	font-size: var(--text-h2);
	line-height: var(--text-h2-line);
	font-weight: var(--text-h2-weight);
	letter-spacing: var(--text-h2-tracking);
}

h3 {
	font-size: var(--text-h3);
	line-height: var(--text-h3-line);
	font-weight: var(--text-h3-weight);
	letter-spacing: var(--text-h3-tracking);
}

h4 {
	font-size: var(--text-h4);
	line-height: var(--text-h4-line);
	font-weight: var(--text-h4-weight);
	letter-spacing: var(--text-h4-tracking);
}

p {
	margin: 0 0 1em;
	line-height: var(--text-body-line);
}

/* Utility Text Classes */
.text-display {
	font-size: var(--text-display);
	line-height: var(--text-display-line);
	font-weight: var(--text-display-weight);
	letter-spacing: var(--text-display-tracking);
}

.text-lead {
	font-size: var(--text-lead);
	line-height: var(--text-lead-line);
	font-weight: var(--text-lead-weight);
}

.text-sm {
	font-size: var(--text-sm);
	line-height: var(--text-sm-line);
}

.text-xs {
	font-size: var(--text-xs);
	line-height: var(--text-xs-line);
	font-weight: var(--text-xs-weight);
}

.font-medium { font-weight: var(--weight-medium); }
.font-semibold { font-weight: var(--weight-semibold); }
.font-bold { font-weight: var(--weight-bold); }
.font-extrabold { font-weight: var(--weight-extrabold); }

/* Child View Font Overrides */
.view.child { font-family: 'TeX Gyre Pagella', Georgia, serif; }
.view.child h1, .view.child h2, .view.child h3 { font-family: 'TeX Gyre Pagella', Georgia, serif; }

/* Parent View Font Overrides */
.view.parent, .view:not(.child) .card .kpi-value, .view:not(.child) .ai, .tabs, .app-header { 
	font-family: 'TeX Gyre Pagella', Georgia, serif; 
}
.view.parent h1, .view.parent h2, .view.parent h3 { font-family: 'TeX Gyre Pagella', Georgia, serif; }

/* ========================================
   4. NAVIGATION & SIDEBAR - Left Sidebar Layout
   ======================================== */
/* ========================================
   GEMINI-STYLE TOP HEADER BAR
   ======================================== */

.app-header {
	position: fixed;
	top: 0;
	left: 80px; /* Start after collapsed sidebar */
	right: 0;
	height: 64px;
	background: rgba(255, 255, 255, 0.95);
	backdrop-filter: blur(12px) saturate(180%);
	-webkit-backdrop-filter: blur(12px) saturate(180%);
	border-bottom: 1px solid rgba(203, 213, 225, 0.3);
	display: flex;
	align-items: center;
	gap: var(--space-4);
	padding: 0 var(--space-6);
	z-index: 999;
	transition: left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Adjust header position when sidebar expands */
.app-sidebar.expanded ~ .app-header {
	left: 280px;
}

.app-title {
	font-size: var(--text-h3);
	font-weight: var(--weight-bold);
	color: var(--primary);
	margin: 0;
	letter-spacing: -0.02em;
}

.header-actions {
	margin-left: auto;
	display: flex;
	align-items: center;
	gap: var(--space-3);
}

/* ========================================
   MAIN APP LAYOUT WITH SIDEBAR
   ======================================== */

/* Main App Layout with Sidebar */
.app {
	display: flex;
	min-height: 100vh;
	padding-top: 64px; /* Space for fixed header */
}

/* Left Sidebar Navigation */
.app-sidebar { 
	position: fixed; 
	top: 64px; /* Start below header */
	left: 0;
	bottom: 0;
	width: 280px;
	background: linear-gradient(180deg, rgba(255, 255, 255, 0.95) 0%, rgba(248, 250, 252, 0.95) 100%);
	backdrop-filter: blur(12px) saturate(180%);
	-webkit-backdrop-filter: blur(12px) saturate(180%);
	border-right: 1px solid rgba(203, 213, 225, 0.3);
	box-shadow: 2px 0 20px rgba(0, 0, 0, 0.04);
	z-index: 998;
	display: flex;
	flex-direction: column;
	transition: width 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	overflow: hidden;
}

/* Collapsed state - icon only */
.app-sidebar.collapsed {
	width: 80px;
}

/* Expanded on hover or explicit expand */
.app-sidebar.collapsed:hover,
.app-sidebar.expanded {
	width: 280px;
}

/* Scrollbar styling for sidebar */
.app-sidebar::-webkit-scrollbar {
	width: 6px;
}

.app-sidebar::-webkit-scrollbar-track {
	background: transparent;
}

.app-sidebar::-webkit-scrollbar-thumb {
	background: rgba(203, 213, 225, 0.5);
	border-radius: 3px;
}

.app-sidebar::-webkit-scrollbar-thumb:hover {
	background: rgba(203, 213, 225, 0.7);
}

.sidebar-inner {
	display: flex;
	flex-direction: column;
	height: 100%;
	padding: var(--space-4) 0;
}

/* ========================================
   SIDEBAR ACTIONS - AVATAR
   ======================================== */

/* Sidebar Actions - Avatar at Bottom */
.sidebar-actions { 
	margin-top: auto;
	padding: var(--space-4);
	border-top: 1px solid rgba(203, 213, 225, 0.3);
	display: flex;
	align-items: center;
	gap: var(--space-3);
	justify-content: flex-start;
	white-space: nowrap;
	overflow: hidden;
	color: rgba(15, 23, 42, 0.7);
	cursor: pointer;
	border-radius: var(--space-2);
	transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
}

.sidebar-actions:hover {
	background: rgba(99, 102, 241, 0.08);
	color: var(--primary);
}

.app-sidebar.collapsed .sidebar-actions {
	justify-content: center;
	padding: var(--space-3);
}

.app-sidebar.collapsed:hover .sidebar-actions,
.app-sidebar.expanded .sidebar-actions {
	justify-content: flex-start;
	padding: var(--space-4);
}

/* Avatar Icon */
.avatar-icon {
	flex-shrink: 0;
	min-width: 20px;
	min-height: 20px;
	transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Avatar Label */
.avatar-label {
	opacity: 1;
	font-size: var(--text-sm);
	font-weight: 500;
	transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1),
	            transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	white-space: nowrap;
	transform: translateX(0);
}

.app-sidebar.collapsed .avatar-label {
	opacity: 0;
	width: 0;
	overflow: hidden;
	pointer-events: none;
	transform: translateX(-10px);
}

.app-sidebar.collapsed:hover .avatar-label,
.app-sidebar.expanded .avatar-label {
	opacity: 1;
	width: auto;
	transform: translateX(0);
}

/* Main Content Area (pushed right by sidebar and down by header) */
.app-main {
	margin-left: 280px;
	margin-top: 0; /* Header already adds padding to .app */
	flex: 1;
	min-height: calc(100vh - 64px);
	transition: margin-left 0.3s cubic-bezier(0.4, 0, 0.2, 1);
}

/* Adjust main content when sidebar is collapsed */
.app-sidebar.collapsed ~ .app-main {
	margin-left: 80px;
}

/* ========================================
   NAVIGATION TABS - VERTICAL SIDEBAR STYLE
   ======================================== */

.tabs { 
	display: flex; 
	flex-direction: column;
	gap: var(--space-2);
	padding: var(--space-2) var(--space-4);
	flex: 1;
}

.tabs.seg { 
	background: transparent;
	padding: 0 var(--space-6);
	border-radius: 0;
	border: none;
	box-shadow: none;
}

.tab { 
	position: relative; 
	background: transparent; 
	border: none;
	padding: var(--space-3) var(--space-4); 
	border-radius: var(--space-2); 
	cursor: pointer; 
	font-weight: 500; 
	font-size: var(--text-sm);
	color: rgba(15, 23, 42, 0.7);
	transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
	letter-spacing: 0.01em;
	text-align: left;
	width: 100%;
	display: flex;
	align-items: center;
	gap: var(--space-3);
	white-space: nowrap;
	overflow: visible; /* Allow content to be visible during transitions */
	justify-content: flex-start;
}

/* When collapsed, center the icon */
.app-sidebar.collapsed .tab {
	justify-content: center;
	padding: var(--space-3);
	gap: 0;
}

/* Show full tab on hover or expanded */
.app-sidebar.collapsed:hover .tab,
.app-sidebar.expanded .tab {
	justify-content: flex-start;
	padding: var(--space-3) var(--space-4);
	gap: var(--space-3);
}

.tab:hover { 
	color: var(--primary);
	background: rgba(99, 102, 241, 0.08);
	transform: translateX(4px);
}

.tab.active { 
	color: var(--primary);
	background: rgba(99, 102, 241, 0.12);
	font-weight: 700;
	box-shadow: inset 3px 0 0 var(--primary);
	transform: translateX(0);
}

.tab-underline { 
	display: none;
}

/* Tab Icon - Modern SVG Icons */
.tab-icon {
	flex-shrink: 0;
	display: inline-flex;
	align-items: center;
	justify-content: center;
	transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
	color: currentColor;
	min-width: 20px;
	min-height: 20px;
}

/* Tab Label - Text next to icon */
.tab-label {
	opacity: 1;
	transition: opacity 0.3s cubic-bezier(0.4, 0, 0.2, 1), 
	            transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
	white-space: nowrap;
	transform: translateX(0);
}

/* Hide labels when collapsed */
.app-sidebar.collapsed .tab-label {
	opacity: 0;
	width: 0;
	overflow: hidden;
	pointer-events: none;
	transform: translateX(-10px);
}

/* Show labels on hover or expanded */
.app-sidebar.collapsed:hover .tab-label,
.app-sidebar.expanded .tab-label {
	opacity: 1;
	width: auto;
	transform: translateX(0);
}

.hamburger { 
	display: none; 
	width: var(--space-10); 
	height: var(--space-10); 
	border-radius: var(--space-3); 
	border: 1px solid rgba(203, 213, 225, 0.4);
	background: #fff;
	align-items: center; 
	justify-content: center; 
	gap: var(--space-1); 
	flex-direction: column;
	cursor: pointer;
	transition: all 0.2s;
	position: fixed;
	top: var(--space-4);
	left: var(--space-4);
	z-index: 1100;
}
.hamburger:hover { 
	background: var(--bg-alt);
	border-color: var(--primary);
}
.hamburger span { 
	width: 18px; 
	height: 2px; 
	background: var(--ink);
	display: block;
	border-radius: 1px;
	transition: all 0.2s;
}

/* ========================================
   RESPONSIVE BREAKPOINTS
   ======================================== */
/* Desktop: 1024px+ (default) */
/* Tablet: 768px - 1023px */
/* Mobile: 320px - 767px */

/* Tablet Breakpoint (768px - 1023px) */
@media (max-width: 1023px) {
	.nav-inner {
		gap: var(--space-4);
		padding: var(--space-3) var(--space-4);
	}
	
	.hero-main {
		grid-template-columns: 1fr;
		gap: var(--space-8);
		padding: var(--space-12) var(--space-6);
	}
	
	.hero-visual {
		order: -1; /* Move visual above content on tablet */
		max-width: 400px;
		margin: 0 auto;
	}
	
	.features-grid {
		grid-template-columns: repeat(2, 1fr);
	}
}

/* Mobile Breakpoint (max-width: 767px) */
@media (max-width: 767px) {
	/* Mobile-first optimizations */
	:root {
		/* Reduce spacing on mobile for better use of space */
		--space-1: 2px;
		--space-2: 4px;
		--space-3: 8px;
		--space-4: 12px;
		--space-5: 16px;
		--space-6: 20px;
		--space-8: 28px;
		--space-10: 36px;
		--space-12: 44px;
		--space-16: 56px;
		
		/* Slightly smaller text on mobile */
		--text-h1: 2rem; /* 32px */
		--text-h2: 1.5rem; /* 24px */
		--text-h3: 1.25rem; /* 20px */
		--text-body: 0.9375rem; /* 15px */
		--text-sm: 0.875rem; /* 14px */
		--text-xs: 0.8125rem; /* 13px */
	}
	
	/* Adjust header for mobile */
	.app-header {
		left: 0;
		padding: 0 var(--space-4);
		height: 56px; /* Slightly shorter on mobile */
	}
	
	.app-title {
		font-size: 1.125rem; /* 18px - smaller on mobile */
		font-weight: 700;
	}
	
	/* Adjust app padding for mobile header */
	.app {
		padding-top: 56px;
	}
	
	/* Hide sidebar by default on mobile */
	.app-sidebar {
		top: 0; /* Full height on mobile */
		transform: translateX(-100%);
		box-shadow: none;
		width: 280px !important; /* Always full width on mobile */
		z-index: 1001; /* Above header on mobile */
	}
	
	/* Force expanded state on mobile (no collapsed mode) */
	.app-sidebar.collapsed,
	.app-sidebar.expanded {
		width: 280px !important;
	}
	
	/* Always show labels on mobile */
	.app-sidebar .tab-label,
	.app-sidebar .avatar-label {
		opacity: 1 !important;
		width: auto !important;
		pointer-events: auto !important;
	}
	
	.app-sidebar.open {
		transform: translateX(0);
		box-shadow: 2px 0 40px rgba(0, 0, 0, 0.15);
	}
	
	/* Improve tab touch targets on mobile */
	.tab {
		min-height: 44px; /* iOS minimum touch target */
		padding: var(--space-3) var(--space-4);
		font-size: 0.9375rem;
	}
	
	.tab-icon {
		width: 24px;
		height: 24px;
	}
	
	/* Add overlay when sidebar is open */
	.app::before {
		content: '';
		position: fixed;
		top: 0;
		left: 0;
		right: 0;
		bottom: 0;
		background: rgba(0, 0, 0, 0.3);
		opacity: 0;
		pointer-events: none;
		transition: opacity 0.3s;
		z-index: 999;
	}
	
	.app-sidebar.open ~ .app::before,
	body:has(.app-sidebar.open)::before {
		opacity: 1;
		pointer-events: auto;
	}
	
	/* Remove left margin on mobile */
	.app-main {
		margin-left: 0;
		margin-top: 0;
		min-height: calc(100vh - 56px);
		padding: var(--space-4);
	}
	
	/* Show hamburger menu */
	.hamburger { 
		display: flex;
		z-index: 1002; /* Above sidebar */
		top: 8px;
		left: 8px;
	}
	
	.tabs.seg {
		padding: 0 var(--space-4);
	}
	
	.tab.active {
		transform: none;
	}
	
	/* Buttons responsive - larger touch targets */
	.hero-actions,
	.row {
		flex-direction: column;
		width: 100%;
		gap: var(--space-3);
	}
	
	.hero-actions button,
	.row button {
		width: 100%;
		min-height: 48px; /* Better touch target */
		padding: var(--space-4) var(--space-6);
		font-size: 1rem;
	}
	
	.hero-actions .btn-primary,
	.hero-actions .btn-secondary {
		width: 100%;
		justify-content: center;
	}
	
	/* Keep hero visual on mobile but make it smaller */
	.hero-visual {
		max-width: 280px;
		margin: 0 auto;
	}
	
	.floating-card {
		transform: scale(0.85);
	}
	
	.features-grid {
		grid-template-columns: 1fr;
		gap: var(--space-5);
	}
	
	.signs-showcase {
		grid-template-columns: repeat(3, 1fr); /* 3 columns on mobile */
		gap: var(--space-3);
	}
	
	/* Mobile typography adjustments */
	.hero-title {
		text-align: center;
		font-size: 2rem;
		line-height: 1.2;
	}
	
	.hero-subtitle {
		text-align: center;
		font-size: 1rem;
		line-height: 1.5;
	}
	
	.section-title {
		text-align: center;
		font-size: 1.5rem;
	}
	
	/* Improve scrolling on mobile */
	.app-main {
		-webkit-overflow-scrolling: touch;
		overflow-y: auto;
	}
	
	/* Prevent horizontal scroll */
	body {
		overflow-x: hidden;
	}
	
	/* Better input handling on mobile */
	input,
	textarea,
	select {
		font-size: 16px !important; /* Prevents zoom on iOS */
		min-height: 44px;
	}
	
	/* Card and component spacing */
	.card,
	.feature-card,
	.stat-card {
		padding: var(--space-4);
		margin-bottom: var(--space-4);
	}
}

/* ========================================
   5. BUTTONS & INTERACTIVE ELEMENTS
   ======================================== */

/* Focus-Visible States (WCAG 2.1 Compliance) */
*:focus {
	outline: none; /* Remove default */
}

*:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
	border-radius: var(--space-1);
}

/* Skip to Content Link (Accessibility) */
.skip-to-content {
	position: absolute;
	top: -100px;
	left: var(--space-4);
	background: var(--primary);
	color: #fff;
	padding: var(--space-3) var(--space-4);
	border-radius: var(--space-3);
	font-weight: var(--weight-bold);
	text-decoration: none;
	z-index: 9999;
	transition: top 0.2s;
}

.skip-to-content:focus {
	top: var(--space-4);
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
}

/* Button Styles */
.primary { 
	background: var(--gradient-primary); 
	color: #fff; 
	border: none; 
	padding: var(--space-3) var(--space-4); 
	border-radius: var(--space-4); 
	box-shadow: 0 var(--space-1) var(--space-3) rgba(99,102,241,0.3); 
	font-weight: 700; 
	cursor: pointer; 
	transition: all 0.2s; 
}

.primary:hover { 
	transform: translateY(-1px); 
	box-shadow: 0 var(--space-2) var(--space-4) rgba(99,102,241,0.35); 
}

.primary:active { 
	transform: translateY(1px); 
	box-shadow: 0 2px var(--space-2) rgba(99,102,241,0.25); 
}

.primary:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 3px;
}

.secondary { 
	background: var(--card); 
	color: var(--ink); 
	border: 2px solid var(--border); 
	padding: var(--space-3) var(--space-4); 
	border-radius: var(--space-4); 
	box-shadow: 0 2px var(--space-2) rgba(0,0,0,0.06); 
	cursor: pointer;
	transition: all 0.2s;
}

.secondary:hover {
	border-color: var(--primary);
	background: var(--bg-alt);
}

.secondary:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
}

/* Links with Proper Focus */
a {
	color: var(--primary);
	text-decoration: underline;
	text-decoration-thickness: 2px;
	text-underline-offset: 2px;
	transition: color 0.2s, text-decoration-color 0.2s;
}

a:hover {
	color: var(--primary-dark);
	text-decoration-color: var(--primary-dark);
}

a:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 3px;
	border-radius: var(--space-1);
}

/* Tabs with Keyboard Navigation */
.tab {
	position: relative;
}

.tab:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
	z-index: 10;
}

/* Hamburger Menu Accessibility */
.hamburger:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
}

.toggle { display: none; }

/* ARIA Live Regions (for screen readers) */
[aria-live="polite"],
[aria-live="assertive"] {
	position: absolute;
	left: -10000px;
	width: 1px;
	height: 1px;
	overflow: hidden;
}

/* Visible Live Region for Status Messages */
.status[aria-live],
.ai[aria-live] {
	position: static;
	width: auto;
	height: auto;
	overflow: visible;
}

/* Input Styles with Focus */
input, textarea, select { 
	padding: var(--space-3); 
	border-radius: var(--space-3); 
	border: 2px solid var(--border); 
	background: var(--card);
	color: var(--ink);
	font-family: inherit;
	font-size: var(--text-body);
	transition: border-color 0.2s, box-shadow 0.2s;
}

input:hover, textarea:hover, select:hover {
	border-color: var(--primary-light);
}

input:focus, textarea:focus, select:focus {
	border-color: var(--primary);
	box-shadow: 0 0 0 3px rgba(79, 70, 229, 0.1);
	outline: none;
}

input:focus-visible, textarea:focus-visible, select:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
}

/* ========================================
   7. PAGE-SPECIFIC STYLES
   ======================================== */
/* General View Styles */
.code { font-weight:600; margin-top: var(--space-2); }
.status { color:var(--muted); margin-top: var(--space-1); }
.ai { margin-top: var(--space-2); white-space:pre-wrap; }
.muted { 
	color: var(--muted);
	font-size: var(--text-body);
	line-height: var(--text-body-line);
}
.app-footer { 
	padding: var(--space-4); 
	color: var(--muted); 
	text-align: center;
	font-size: var(--text-sm);
	line-height: var(--text-sm-line);
}
.warning { color:#b45309; }
.mascot-callout { display:inline-flex; align-items:center; gap: var(--space-2); margin: var(--space-2) 0 var(--space-3); }
.mascot-callout .bubble { 
	background: var(--gradient-brand); 
	color: #fff; 
	padding: var(--space-2) var(--space-3); 
	border-radius: var(--space-4); 
	font-weight: var(--weight-semibold); 
	font-size: var(--text-sm);
	box-shadow: 0 2px 6px rgba(99,102,241,0.25);
	letter-spacing: -0.01em;
}
.video-wrap { position: relative; display: inline-block; }
.video-wrap video, .video-wrap canvas { width: 100%; max-width: 640px; height: auto; }
.video-wrap video, .video-wrap canvas { -webkit-transform: scaleX(-1); transform: scaleX(-1); transform-origin: center; }

/* Rewards */
.card.reward { background:#fffdf3; border-color:#ffe38a; }
.stars-pill { margin-left:auto; background:var(--gold); color:#000; padding:6px 10px; border-radius:999px; font-weight:700; box-shadow:0 2px 0 rgba(0,0,0,0.1); }

/* ========================================
   Child View Components
   ======================================== */
/* Hero Section */
.hero { position: relative; height: 420px; perspective: 900px; margin: 0 auto; max-width: 980px; }
.stage { position: relative; height: 100%; transform-style: preserve-3d; }
.wood-base { position:absolute; left: 50%; transform: translateX(-50%) translateZ(-40px) rotateX(90deg); bottom: -50px; width: 560px; height: 560px; background: linear-gradient(45deg, #c79a67, #a8753a); border-radius: 28px; box-shadow: 0 40px 60px rgba(0,0,0,0.15); }
.felt.grass { position:absolute; left:50%; transform: translateX(-50%) translateZ(0); bottom: 40px; width: 520px; height: 220px; background: radial-gradient(ellipse at center, #c6f1d0 0%, #a0e2b6 60%, #7fcf9a 100%); border-radius: 28px; box-shadow: inset 0 10px 30px rgba(0,0,0,0.12); }
.hill.clay { position:absolute; left: calc(50% - 120px); bottom: 70px; width: 240px; height: 120px; background: radial-gradient(circle at 30% 30%, #ffb3a3, #ff8c73); border-radius: 60px; filter: drop-shadow(0 8px 10px rgba(0,0,0,0.12)); }
.clay { border-radius: 24px; box-shadow: inset -6px -6px 0 rgba(255,255,255,0.35), inset 6px 6px 0 rgba(0,0,0,0.05); }
.felt { filter: blur(0.2px); }
.cloud { position:absolute; width: 120px; height: 60px; background: radial-gradient(ellipse at center, #fff 0%, #f1f5f9 70%); border-radius: 40px; opacity: 0.9; }
.tree { position:absolute; width: 70px; height: 110px; display:flex; flex-direction:column; align-items:center; justify-content:flex-end; }
.tree .trunk { width: 24px; height: 50px; background: radial-gradient(circle at 30% 30%, #d0a277, #b07b49); border-radius: 10px; }
.tree .cap { width: 70px; height: 70px; background: radial-gradient(circle at 40% 30%, #87e9a7, #5ec787); border-radius: 22px; margin-bottom: -14px; box-shadow: inset 0 12px 16px rgba(255,255,255,0.5); }
.buddy { position:absolute; left: calc(50% - 24px); bottom: 120px; width: 64px; height: 64px; display:flex; align-items:center; justify-content:center; font-size: 40px; }
.ui-layer { position:absolute; left:50%; transform: translateX(-50%); bottom: 16px; display:flex; flex-direction:column; align-items:center; gap:10px; }
.age-pill { display:flex; background:#fff; border:1px solid var(--border); padding:6px; border-radius:999px; box-shadow:0 8px 20px rgba(0,0,0,0.08); }
.chip { border:none; background:transparent; padding:8px 12px; border-radius:999px; font-weight:700; }
.chip.active { background:#fff7ea; color:#b45309; }
.gummy-btn { border:none; background: linear-gradient(180deg, #ffd39e, #ffad66); color:#5b3a00; padding:12px 16px; border-radius:16px; box-shadow: inset 0 -2px 0 rgba(255,255,255,0.5), 0 8px 16px rgba(255,173,102,0.35); font-weight:800; }
.gummy-btn.alt { background: linear-gradient(180deg, #cfe7ff, #8fc2ff); color:#0b3a6b; box-shadow: inset 0 -2px 0 rgba(255,255,255,0.7), 0 8px 16px rgba(143,194,255,0.35); }
.row.ctas { gap: 10px; }
.light-orb { position: absolute; width: 36px; height: 36px; background: radial-gradient(circle at 35% 35%, rgba(255,255,255,0.95), rgba(255,255,255,0.1)); border-radius:50%; pointer-events:none; transform: translate(-50%, -50%); mix-blend-mode: screen; filter: blur(0.2px); }

@media (max-width: 700px) {
	.toybox { height: 380px; }
	.felt.grass { width: 440px; height: 200px; }
	.wood-base { width: 480px; height: 480px; }
}

/* ========================================
   Coach Widget & UI Components
   ======================================== */
/* Coach Widget */
.coach { position: fixed; right: 16px; bottom: 16px; z-index: 50; }
.coach-fab { 
	width: 56px; 
	height: 56px; 
	border-radius: 50%; 
	font-size: 24px; 
	display:flex; 
	align-items:center; 
	justify-content:center;
	cursor: pointer;
	transition: all 0.2s;
}

.coach-fab:hover {
	transform: scale(1.1);
	box-shadow: 0 var(--space-3) var(--space-6) rgba(79,70,229,0.2);
}

.coach-fab:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 3px;
}

	.coach-box { width: min(92vw, 380px); }
	.coach-head { display:flex; align-items:center; justify-content:space-between; margin-bottom:8px; font-weight:700; }
	.coach-msgs { max-height: 260px; overflow:auto; display:flex; flex-direction:column; gap:6px; margin-bottom:8px; }
	.msg { padding:8px 10px; border-radius:12px; }
	.msg.user { align-self:flex-end; background:#e7f3ff; }
	.msg.assistant { align-self:flex-start; background:#fff5e1; }

/* Error Boundary */
.error-boundary { padding: var(--space-4); }
	.error-boundary pre { background:#fffaf2; border:1px solid var(--border); border-radius: var(--space-2); padding: var(--space-3); overflow:auto; }

/* ========================================
   Child View Components
   ======================================== */
/* Hero Section */
.hero { background: linear-gradient(135deg, #EEF2FF 0%, #E0F2FE 100%); border:1px solid var(--border); border-radius: var(--space-5); padding: var(--space-4); margin: 0 auto var(--space-4); box-shadow: 0 var(--space-2) var(--space-4) rgba(99,102,241,0.08); }
.hero-left { display:flex; align-items:center; gap: var(--space-3); }
.hero h2 { margin:0; color:var(--primary); }
.hero .row { margin-top: var(--space-2); }

/* Toybox Scene (2.5D Diorama) */
.toybox { width: var(--space-24); height: var(--space-24); border-radius:50%; display:flex; align-items:center; justify-content:center; font-size:48px; background:#fff; border:3px solid var(--accent); box-shadow:0 var(--space-2) var(--space-4) rgba(245,158,11,0.15); }
.avatar-badge.sm { width: var(--space-10); height: var(--space-10); font-size:18px; border-width:2px; }

/* Sticker Book */
.sticker-book { display:grid; grid-template-columns: repeat(5, var(--space-10)); gap: var(--space-2); }

.sticker { 
	width: var(--space-10); 
	height: var(--space-10); 
	border-radius: var(--space-3); 
	display:flex; 
	align-items:center; 
	justify-content:center; 
	border:1px dashed var(--border); 
	background:#fffdfb; 
	font-size:20px;
	cursor: pointer;
	transition: all 0.2s;
}

.sticker:hover {
	transform: scale(1.05);
	border-color: var(--gold);
}

.sticker:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
}

.sticker.filled { 
	border-style:solid; 
	border-color:#ffcc66; 
	background:#fff5d6; 
	box-shadow: inset 0 2px var(--space-2) rgba(0,0,0,0.05); 
}

.sticker.filled:hover {
	transform: scale(1.1);
	box-shadow: inset 0 2px var(--space-2) rgba(0,0,0,0.05), 0 var(--space-2) var(--space-4) rgba(255,204,102,0.3);
}

/* Character Picker */
.char-picker { display:flex; gap: var(--space-2); flex-wrap:wrap; }

.char { 
	display:flex; 
	flex-direction:column; 
	align-items:center; 
	gap: var(--space-2); 
	background:#fff; 
	border:1px solid var(--border); 
	padding: var(--space-3); 
	border-radius: var(--space-3); 
	box-shadow:0 2px var(--space-2) rgba(0,0,0,0.05); 
	cursor: pointer;
	transition: all 0.2s;
}

.char:hover {
	border-color: var(--primary);
	transform: translateY(-2px);
	box-shadow:0 var(--space-2) var(--space-4) rgba(79,70,229,0.15);
}

.char:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
	border-color: var(--primary);
}

.char.active { 
	outline:3px solid var(--gold); 
	border-color: var(--gold);
}

.char-emoji { font-size:28px; }
.char-label { 
	font-size: var(--text-xs); 
	color: var(--muted);
	font-weight: var(--weight-medium);
	letter-spacing: -0.01em;
}

/* Small mobile adjustments (320px - 600px) */
@media (max-width: 600px) {
	.hero-left { 
		flex-direction: column; 
		align-items: flex-start;
		text-align: center;
		width: 100%;
	}
	
	.avatar-badge {
		margin: 0 auto;
	}
	
	.sticker-book { 
		grid-template-columns: repeat(5, var(--space-8));
		justify-content: center;
	}
	
	.sticker { 
		width: var(--space-8); 
		height: var(--space-8); 
		font-size: 16px; 
	}
	
	.char-picker {
		justify-content: center;
	}
	
	.kpi {
		min-width: 100px;
		flex: 1;
	}
	
	.row.ctas,
	.hero-actions {
		gap: var(--space-3);
	}
	
	/* Stack input + button combos vertically */
	.card .row {
		flex-direction: column;
		align-items: stretch;
	}
	
	.card .row input {
		width: 100%;
	}
	
	.card .row button {
		width: 100%;
	}
}

/* ========================================
   Parent Dashboard Components
   ======================================== */
/* KPIs */
.kpi { 
	min-width: 120px; 
	background: #fff; 
	border: 1px solid var(--border); 
	border-radius: var(--space-3); 
	padding: var(--space-3) var(--space-3); 
	box-shadow: 0 2px 8px rgba(0,0,0,0.05);
	transition: all 0.2s;
	cursor: default;
}

.kpi:hover {
	border-color: var(--primary);
	box-shadow: 0 var(--space-2) var(--space-4) rgba(79,70,229,0.1);
}

.kpi:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
}

.kpi-label { 
	font-size: var(--text-xs); 
	color: var(--muted);
	font-weight: var(--weight-medium);
	text-transform: uppercase;
	letter-spacing: 0.05em;
}
.kpi-value { 
	font-size: var(--text-h3); 
	font-weight: var(--weight-extrabold);
	color: var(--ink);
	letter-spacing: -0.01em;
	line-height: 1.2;
	margin-top: 4px;
}

/* ========================================
   Home Page - Modern Landing
   ======================================== */
/* New Modern Homepage */
.home-hero { 
	max-width: 1280px; 
	margin: 0 auto; 
	padding: 0;
	position: relative;
	z-index: 10;
}

.hero-main { 
	display: grid; 
	grid-template-columns: 1fr 1fr; 
	gap: var(--space-16); 
	align-items: center; 
	padding: var(--space-20) var(--space-8); 
	min-height: 85vh;
	position: relative;
	background: linear-gradient(180deg, 
		rgba(238, 242, 255, 0.8) 0%, 
		rgba(224, 231, 255, 0.4) 50%,
		rgba(255, 255, 255, 0) 100%
	);
	border-radius: var(--space-8);
	overflow: hidden;
}

/* Animated background gradient orbs for depth */
.hero-main::before {
	content: '';
	position: absolute;
	top: -50%;
	right: -20%;
	width: 800px;
	height: 800px;
	background: radial-gradient(circle, rgba(99, 102, 241, 0.15) 0%, transparent 70%);
	border-radius: 50%;
	animation: float 20s ease-in-out infinite;
	z-index: -1;
}

.hero-main::after {
	content: '';
	position: absolute;
	bottom: -30%;
	left: -10%;
	width: 600px;
	height: 600px;
	background: radial-gradient(circle, rgba(147, 51, 234, 0.1) 0%, transparent 70%);
	border-radius: 50%;
	animation: float 15s ease-in-out infinite reverse;
	z-index: -1;
}

@keyframes float {
	0%, 100% { transform: translate(0, 0) scale(1); }
	50% { transform: translate(-30px, -30px) scale(1.1); }
}

.hero-content { 
	max-width: 560px;
	position: relative;
	z-index: 2;
}
.hero-badge { 
	display: inline-flex; 
	align-items: center; 
	gap: var(--space-2); 
	background: linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%); 
	border: 1px solid rgba(99, 102, 241, 0.3); 
	padding: var(--space-2) var(--space-4); 
	border-radius: 999px; 
	font-size: var(--text-sm); 
	font-weight: var(--weight-semibold); 
	color: var(--primary-dark); 
	margin-bottom: var(--space-6);
	letter-spacing: -0.01em;
	box-shadow: 0 var(--space-1) var(--space-3) rgba(79, 70, 229, 0.15),
	            0 0 0 1px rgba(255, 255, 255, 0.8);
	animation: badgePulse 3s ease-in-out infinite;
}

@keyframes badgePulse {
	0%, 100% { transform: scale(1); box-shadow: 0 var(--space-1) var(--space-3) rgba(79, 70, 229, 0.15); }
	50% { transform: scale(1.02); box-shadow: 0 var(--space-2) var(--space-4) rgba(79, 70, 229, 0.25); }
}

.badge-icon { 
	font-size: 1.2em;
	animation: iconSpin 4s linear infinite;
}

@keyframes iconSpin {
	0%, 90% { transform: rotate(0deg); }
	95% { transform: rotate(15deg); }
	100% { transform: rotate(0deg); }
}
.hero-title { 
	font-size: var(--text-display); 
	font-weight: var(--text-display-weight); 
	line-height: var(--text-display-line); 
	margin: 0 0 var(--space-6); 
	color: var(--ink); 
	letter-spacing: var(--text-display-tracking);
	text-shadow: 0 2px 12px rgba(0, 0, 0, 0.05);
	animation: fadeInUp 0.8s ease-out;
}

@keyframes fadeInUp {
	from { opacity: 0; transform: translateY(20px); }
	to { opacity: 1; transform: translateY(0); }
}

.gradient-text { 
	background: linear-gradient(135deg, 
		#4F46E5 0%, 
		#7C3AED 50%, 
		#EC4899 100%
	); 
	-webkit-background-clip: text; 
	-webkit-text-fill-color: transparent; 
	background-clip: text;
	background-size: 200% 200%;
	animation: gradientShift 4s ease infinite, fadeInUp 0.8s ease-out 0.2s backwards;
	position: relative;
	display: inline-block;
}

@keyframes gradientShift {
	0%, 100% { background-position: 0% 50%; }
	50% { background-position: 100% 50%; }
}

/* Glow effect behind gradient text */
.gradient-text::before {
	content: attr(data-text);
	position: absolute;
	top: 0;
	left: 0;
	z-index: -1;
	background: inherit;
	-webkit-background-clip: text;
	background-clip: text;
	filter: blur(20px);
	opacity: 0.5;
}
.hero-subtitle { 
	font-size: var(--text-lead); 
	line-height: var(--text-lead-line); 
	color: var(--muted); 
	margin: 0 0 var(--space-8); 
	font-weight: var(--weight-regular);
	animation: fadeInUp 0.8s ease-out 0.3s backwards;
	max-width: 90%;
}

.hero-actions { 
	display: flex; 
	gap: var(--space-4); 
	margin-bottom: var(--space-12);
	animation: fadeInUp 0.8s ease-out 0.5s backwards;
}
.btn-primary { 
	background: var(--gradient-primary); 
	color: #fff; 
	border: none; 
	padding: var(--space-4) var(--space-6); 
	border-radius: var(--space-3); 
	font-weight: var(--weight-bold); 
	font-size: var(--text-body); 
	display: inline-flex; 
	align-items: center; 
	gap: var(--space-2); 
	box-shadow: 0 var(--space-2) var(--space-6) rgba(99,102,241,0.3); 
	cursor: pointer; 
	transition: all 0.2s;
	letter-spacing: -0.01em;
}
.btn-primary:hover { 
	transform: translateY(-1px); 
	box-shadow: 0 var(--space-3) var(--space-8) rgba(79,70,229,0.35); 
}

.btn-primary:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 3px;
}

.btn-primary.large { 
	padding: var(--space-4) var(--space-8); 
	font-size: var(--text-h4);
	font-weight: var(--weight-bold);
}

.btn-secondary { 
	background: #fff; 
	color: var(--ink); 
	border: 2px solid var(--border); 
	padding: var(--space-4) var(--space-6); 
	border-radius: var(--space-3); 
	font-weight: var(--weight-bold); 
	font-size: var(--text-body); 
	display: inline-flex; 
	align-items: center; 
	gap: var(--space-2); 
	cursor: pointer; 
	box-shadow: 0 var(--space-1) var(--space-3) rgba(0,0,0,0.05);
	letter-spacing: -0.01em;
	transition: all 0.2s;
}

.btn-secondary:hover {
	border-color: var(--primary);
	box-shadow: 0 var(--space-2) var(--space-4) rgba(79,70,229,0.15);
}

.btn-secondary:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 3px;
	border-color: var(--primary);
}

.btn-secondary.large { 
	padding: var(--space-4) var(--space-8); 
	font-size: var(--text-h4);
	font-weight: var(--weight-bold);
}
.btn-icon { font-size: 1.25em; }
.hero-stats { display: flex; gap: var(--space-8); }
.stat { text-align: center; }
.stat-value { 
	font-size: var(--text-h2); 
	font-weight: var(--weight-extrabold); 
	color: var(--primary); 
	line-height: 1;
	letter-spacing: -0.02em;
}
.stat-label { 
	font-size: var(--text-xs); 
	color: var(--muted); 
	margin-top: var(--space-1);
	font-weight: var(--weight-medium);
	letter-spacing: 0;
}

.hero-visual { 
	position: relative;
	z-index: 1;
	animation: fadeInRight 0.8s ease-out 0.4s backwards;
}

@keyframes fadeInRight {
	from { opacity: 0; transform: translateX(30px); }
	to { opacity: 1; transform: translateX(0); }
}

.visual-container { 
	position: relative; 
	width: 100%; 
	height: 500px;
	filter: drop-shadow(0 20px 40px rgba(79, 70, 229, 0.2));
}

.floating-card { 
	position: absolute; 
	background: #fff; 
	border-radius: var(--space-4); 
	padding: var(--space-4); 
	box-shadow: 
		0 10px 30px rgba(0,0,0,0.12),
		0 4px 12px rgba(0,0,0,0.08),
		0 0 0 1px rgba(99,102,241,0.1);
	border: 1px solid var(--border);
	transition: all 0.3s ease;
	backdrop-filter: blur(10px);
	background: rgba(255, 255, 255, 0.95);
}

.floating-card:hover {
	transform: translateY(-4px) scale(1.02);
	box-shadow: 
		0 20px 40px rgba(0,0,0,0.16),
		0 8px 16px rgba(0,0,0,0.12),
		0 0 0 2px rgba(99,102,241,0.2);
}

.floating-card.main { 
	top: 50%; 
	left: 50%; 
	transform: translate(-50%, -50%); 
	width: 240px; 
	display: flex; 
	align-items: center; 
	gap: var(--space-3); 
	z-index: 3;
	animation: floatMain 4s ease-in-out infinite;
}

@keyframes floatMain {
	0%, 100% { transform: translate(-50%, -50%) translateY(0); }
	50% { transform: translate(-50%, -50%) translateY(-10px); }
}
.card-icon { font-size: 48px; }
.card-content { flex: 1; }
.card-title { 
	font-weight: var(--weight-bold); 
	font-size: var(--text-body); 
	color: var(--ink);
	letter-spacing: -0.01em;
}
.card-desc { 
	font-size: var(--text-sm); 
	color: var(--muted); 
	margin-top: var(--space-1);
	line-height: 1.5;
}
.floating-card.accent-1 { 
	top: 20%; 
	left: 10%; 
	padding: var(--space-3) var(--space-4); 
	display: flex; 
	flex-direction: column; 
	align-items: center; 
	gap: var(--space-2);
	z-index: 2;
	animation: floatAccent1 3s ease-in-out infinite;
}

@keyframes floatAccent1 {
	0%, 100% { transform: translateY(0) rotate(-2deg); }
	50% { transform: translateY(-8px) rotate(-1deg); }
}

.floating-card.accent-2 { 
	top: 15%; 
	right: 15%; 
	padding: var(--space-3) var(--space-4); 
	display: flex; 
	flex-direction: column; 
	align-items: center; 
	gap: var(--space-2);
	z-index: 2;
	animation: floatAccent2 3.5s ease-in-out infinite;
}

@keyframes floatAccent2 {
	0%, 100% { transform: translateY(0) rotate(2deg); }
	50% { transform: translateY(-12px) rotate(1deg); }
}

.floating-card.accent-3 { 
	bottom: 15%; 
	right: 10%; 
	padding: var(--space-3) var(--space-4); 
	display: flex; 
	flex-direction: column; 
	align-items: center; 
	gap: var(--space-2);
	z-index: 1;
	animation: floatAccent3 4s ease-in-out infinite;
}

@keyframes floatAccent3 {
	0%, 100% { transform: translateY(0) rotate(1deg); }
	50% { transform: translateY(-10px) rotate(-1deg); }
}
.emoji-lg { font-size: 36px; }
.emoji-label { 
	font-size: var(--text-sm); 
	font-weight: var(--weight-semibold); 
	color: var(--muted);
	letter-spacing: -0.01em;
}

/* Features Section - Clean white with depth */
.features-section { 
	padding: var(--space-24) var(--space-8); 
	text-align: center;
	background: #ffffff;
	position: relative;
	z-index: 5;
}

/* Signs Section - Alternating background */
.signs-section { 
	padding: var(--space-24) var(--space-8); 
	text-align: center;
	background: linear-gradient(180deg, 
		rgba(248, 250, 252, 0.5) 0%, 
		rgba(241, 245, 249, 0.8) 100%
	);
	position: relative;
	z-index: 4;
	border-top: 1px solid rgba(148, 163, 184, 0.1);
	border-bottom: 1px solid rgba(148, 163, 184, 0.1);
}

/* Decorative orbs for signs section */
.signs-section::before {
	content: '';
	position: absolute;
	top: -100px;
	left: 10%;
	width: 200px;
	height: 200px;
	background: radial-gradient(circle, rgba(236, 72, 153, 0.08) 0%, transparent 70%);
	border-radius: 50%;
	z-index: -1;
}

.signs-section::after {
	content: '';
	position: absolute;
	bottom: -80px;
	right: 15%;
	width: 250px;
	height: 250px;
	background: radial-gradient(circle, rgba(59, 130, 246, 0.06) 0%, transparent 70%);
	border-radius: 50%;
	z-index: -1;
}

.section-title { 
	font-size: var(--text-h1); 
	font-weight: var(--text-h1-weight); 
	line-height: var(--text-h1-line);
	margin: 0 0 var(--space-3); 
	color: var(--ink);
	letter-spacing: var(--text-h1-tracking);
	position: relative;
}

/* Accent underline for section titles */
.section-title::after {
	content: '';
	display: block;
	width: 60px;
	height: 4px;
	background: var(--gradient-primary);
	margin: var(--space-4) auto 0;
	border-radius: 2px;
}

.section-subtitle { 
	font-size: var(--text-lead); 
	color: var(--muted); 
	margin: 0 0 var(--space-12);
	font-weight: var(--weight-regular);
	line-height: var(--text-lead-line);
	max-width: 700px;
	margin-left: auto;
	margin-right: auto;
}

.features-grid { 
	display: grid; 
	grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); 
	gap: var(--space-6); 
	max-width: 1100px; 
	margin: 0 auto;
	position: relative;
	z-index: 1;
}

.feature-card { 
	background: var(--card); 
	border: 2px solid var(--border); 
	border-radius: var(--space-4); 
	padding: var(--space-8) var(--space-6); 
	text-align: center; 
	transition: all 0.3s ease;
	position: relative;
	box-shadow: 0 2px 8px rgba(0,0,0,0.04);
}

/* Primary feature card - stands out significantly */
.feature-card.primary {
	background: linear-gradient(135deg, #EEF2FF 0%, #E0E7FF 100%);
	border: 2px solid var(--primary);
	padding: var(--space-12) var(--space-8);
	box-shadow: 
		0 10px 30px rgba(79, 70, 229, 0.15),
		0 4px 12px rgba(79, 70, 229, 0.1);
	transform: scale(1.05);
	z-index: 2;
}

.feature-card.primary::before {
	content: '⭐ FEATURED';
	position: absolute;
	top: var(--space-4);
	right: var(--space-4);
	background: var(--gradient-primary);
	color: white;
	font-size: var(--text-xs);
	font-weight: var(--weight-bold);
	padding: var(--space-1) var(--space-3);
	border-radius: 999px;
	letter-spacing: 0.05em;
	box-shadow: 0 2px 8px rgba(79, 70, 229, 0.3);
}

.feature-card.primary .feature-icon {
	font-size: 64px;
	filter: drop-shadow(0 4px 12px rgba(79, 70, 229, 0.3));
}

.feature-card.primary .feature-title {
	font-size: var(--text-h3);
	color: var(--primary);
}

.feature-card.primary .feature-desc {
	font-size: var(--text-lg);
	color: var(--ink);
}

.feature-card.hovered, 
.feature-card:hover { 
	border-color: var(--primary); 
	box-shadow: 0 var(--space-4) var(--space-10) rgba(79,70,229,0.2);
	transform: translateY(-4px);
}

.feature-card.primary:hover {
	transform: scale(1.08) translateY(-4px);
	box-shadow: 
		0 15px 40px rgba(79, 70, 229, 0.25),
		0 6px 16px rgba(79, 70, 229, 0.15);
}

.feature-card:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
	border-color: var(--primary);
}

.feature-icon { 
	font-size: 48px; 
	margin-bottom: var(--space-4);
	transition: all 0.3s ease;
}

.feature-card:hover .feature-icon {
	transform: scale(1.1) rotate(5deg);
}

.feature-title { 
	font-size: var(--text-h4); 
	font-weight: var(--weight-bold); 
	margin: 0 0 var(--space-2); 
	color: var(--ink);
	letter-spacing: -0.01em;
}

.feature-desc { 
	font-size: var(--text-body); 
	color: var(--muted); 
	margin: 0; 
	line-height: var(--text-body-line);
}

.signs-showcase { display: flex; flex-wrap: wrap; justify-content: center; gap: var(--space-4); max-width: 900px; margin: 0 auto; }

.sign-badge { 
	background: var(--card); 
	border: 2px solid var(--border); 
	border-radius: var(--space-4); 
	padding: var(--space-4) var(--space-6); 
	display: flex; 
	flex-direction: column; 
	align-items: center; 
	gap: var(--space-2); 
	min-width: 100px; 
	transition: all 0.2s;
	cursor: pointer;
}

.sign-badge:hover {
	border-color: var(--primary);
	transform: scale(1.05);
}

.sign-badge:focus-visible {
	outline: 3px solid var(--focus-ring);
	outline-offset: 2px;
	border-color: var(--primary);
}
.sign-emoji { font-size: 36px; }
.sign-name { 
	font-size: var(--text-sm); 
	font-weight: var(--weight-semibold); 
	color: var(--ink);
	letter-spacing: -0.01em;
}

.cta-section { 
	padding: var(--space-24) var(--space-8);
	position: relative;
	overflow: hidden;
}

/* Dramatic background for CTA */
.cta-section::before {
	content: '';
	position: absolute;
	top: 0;
	left: 0;
	right: 0;
	bottom: 0;
	background: radial-gradient(ellipse at center, 
		rgba(99, 102, 241, 0.08) 0%, 
		rgba(147, 51, 234, 0.05) 50%,
		transparent 100%
	);
	z-index: 0;
}

.cta-card { 
	background: linear-gradient(135deg, 
		rgba(99, 102, 241, 0.95) 0%, 
		rgba(124, 58, 237, 0.95) 50%,
		rgba(147, 51, 234, 0.95) 100%
	);
	border: 2px solid rgba(255,255,255,0.2);
	border-radius: var(--space-8); 
	padding: var(--space-20) var(--space-12); 
	text-align: center; 
	max-width: 900px; 
	margin: 0 auto; 
	box-shadow: 
		0 20px 60px rgba(79, 70, 229, 0.4),
		0 10px 30px rgba(124, 58, 237, 0.3),
		inset 0 1px 0 rgba(255,255,255,0.3);
	transition: all 0.4s ease;
	position: relative;
	z-index: 1;
	overflow: hidden;
	animation: ctaAppear 1s ease-out;
}

@keyframes ctaAppear {
	from { opacity: 0; transform: scale(0.95) translateY(20px); }
	to { opacity: 1; transform: scale(1) translateY(0); }
}

/* Animated gradient overlay */
.cta-card::before {
	content: '';
	position: absolute;
	top: -50%;
	left: -50%;
	width: 200%;
	height: 200%;
	background: linear-gradient(
		45deg,
		transparent 30%,
		rgba(255, 255, 255, 0.1) 50%,
		transparent 70%
	);
	animation: shimmer 3s infinite;
}

@keyframes shimmer {
	0% { transform: translateX(-100%) translateY(-100%) rotate(45deg); }
	100% { transform: translateX(100%) translateY(100%) rotate(45deg); }
}

/* Pulsing glow effect */
.cta-card::after {
	content: '';
	position: absolute;
	inset: -2px;
	border-radius: var(--space-8);
	padding: 2px;
	background: linear-gradient(135deg, #818CF8, #C084FC, #E879F9);
	-webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
	-webkit-mask-composite: xor;
	mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
	mask-composite: exclude;
	opacity: 0;
	animation: glowPulse 2s ease-in-out infinite;
	pointer-events: none;
}

@keyframes glowPulse {
	0%, 100% { opacity: 0; transform: scale(1); }
	50% { opacity: 0.6; transform: scale(1.02); }
}

.cta-card:hover {
	transform: translateY(-4px) scale(1.01);
	box-shadow: 
		0 30px 80px rgba(79, 70, 229, 0.5),
		0 15px 40px rgba(124, 58, 237, 0.4),
		inset 0 1px 0 rgba(255,255,255,0.4);
}

.cta-card:focus-visible {
	outline: 4px solid rgba(255,255,255,0.8);
	outline-offset: 4px;
}

.cta-title { 
	font-size: var(--text-display);
	font-weight: var(--text-display-weight); 
	line-height: var(--text-display-line);
	margin: 0 0 var(--space-6); 
	color: #ffffff;
	letter-spacing: var(--text-display-tracking);
	text-shadow: 0 2px 20px rgba(0, 0, 0, 0.3);
	position: relative;
	z-index: 2;
}

.cta-desc { 
	font-size: var(--text-h4);
	color: rgba(255, 255, 255, 0.95);
	margin: 0 0 var(--space-10); 
	line-height: 1.6;
	font-weight: var(--weight-medium);
	text-shadow: 0 1px 10px rgba(0, 0, 0, 0.2);
	position: relative;
	z-index: 2;
	max-width: 700px;
	margin-left: auto;
	margin-right: auto;
}

.cta-actions { 
	display: flex; 
	justify-content: center;
	gap: var(--space-4);
	position: relative;
	z-index: 2;
}

/* Special CTA button styling */
.cta-actions .btn-primary {
	background: #ffffff;
	color: var(--primary);
	font-size: var(--text-h4);
	padding: var(--space-5) var(--space-10);
	box-shadow: 
		0 4px 20px rgba(0, 0, 0, 0.3),
		0 2px 10px rgba(0, 0, 0, 0.2);
	font-weight: var(--weight-extrabold);
	animation: ctaButtonPulse 2s ease-in-out infinite;
}

@keyframes ctaButtonPulse {
	0%, 100% { transform: scale(1); }
	50% { transform: scale(1.05); }
}

.cta-actions .btn-primary:hover {
	background: #ffffff;
	transform: translateY(-2px) scale(1.05);
	box-shadow: 
		0 8px 30px rgba(0, 0, 0, 0.4),
		0 4px 15px rgba(0, 0, 0, 0.3);
}

.cta-actions .btn-secondary {
	background: transparent;
	color: #ffffff;
	border-color: rgba(255, 255, 255, 0.5);
	font-size: var(--text-h4);
	padding: var(--space-5) var(--space-10);
}

.cta-actions .btn-secondary:hover {
	background: rgba(255, 255, 255, 0.15);
	border-color: #ffffff;
}

/* ========================================
   RESPONSIVE - HOME PAGE SPECIFIC
   ======================================== */

/* Tablet adjustments for home page (768px - 1023px) */
@media (max-width: 1023px) {
	.hero-main {
		grid-template-columns: 1fr;
		gap: var(--space-10);
		padding: var(--space-16) var(--space-6);
		min-height: auto;
	}
	
	.hero-content {
		max-width: 100%;
		text-align: center;
	}
	
	.hero-badge {
		justify-content: center;
	}
	
	.hero-actions {
		justify-content: center;
	}
	
	.hero-stats {
		justify-content: center;
	}
	
	/* Keep visual but make it smaller on tablet */
	.visual-container {
		height: 400px;
	}
	
	.floating-card.main {
		width: 200px;
	}
	
	.features-grid {
		grid-template-columns: repeat(2, 1fr);
	}
	
	.signs-showcase {
		grid-template-columns: repeat(4, 1fr);
		gap: var(--space-3);
	}
}

/* Mobile adjustments for home page (max-width: 767px) */
@media (max-width: 767px) {
	.hero-main {
		padding: var(--space-10) var(--space-4);
	}
	
	.hero-title {
		font-size: clamp(2rem, 8vw, 2.5rem);
	}
	
	.hero-subtitle {
		font-size: clamp(0.9375rem, 3.5vw, 1.125rem);
	}
	
	.hero-actions {
		flex-direction: column;
		gap: var(--space-3);
		width: 100%;
	}
	
	.btn-primary.large,
	.btn-secondary.large {
		width: 100%;
		justify-content: center;
		padding: var(--space-4) var(--space-6);
	}
	
	/* Show visual on mobile but smaller */
	.hero-visual {
		display: block;
		margin-top: var(--space-6);
	}
	
	.visual-container {
		height: 300px;
	}
	
	.floating-card.main {
		width: 180px;
		padding: var(--space-3);
	}
	
	.card-icon {
		font-size: 36px;
	}
	
	.floating-card.accent-1,
	.floating-card.accent-2,
	.floating-card.accent-3 {
		padding: var(--space-2) var(--space-3);
	}
	
	.emoji-lg {
		font-size: 28px;
	}
	
	.hero-stats {
		flex-direction: row;
		gap: var(--space-4);
		justify-content: space-around;
		width: 100%;
	}
	
	.stat-value {
		font-size: var(--text-h3);
	}
	
	.features-section,
	.signs-section {
		padding: var(--space-12) var(--space-4);
	}
	
	.section-title {
		font-size: var(--text-h2);
	}
	
	.section-subtitle {
		font-size: var(--text-body);
	}
	
	.features-grid {
		grid-template-columns: 1fr;
		gap: var(--space-4);
	}
	
	.feature-card {
		padding: var(--space-6) var(--space-4);
	}
	
	.signs-showcase {
		display: grid;
		grid-template-columns: repeat(4, 1fr);
		gap: var(--space-2);
	}
	
	.sign-badge {
		min-width: auto;
		padding: var(--space-3) var(--space-2);
	}
	
	.sign-emoji {
		font-size: 28px;
	}
	
	.cta-section {
		padding: var(--space-12) var(--space-4);
	}
	
	.cta-card {
		padding: var(--space-10) var(--space-5);
		border-radius: var(--space-5);
	}
	
	.cta-title {
		font-size: var(--text-h2);
	}
	
	.cta-desc {
		font-size: var(--text-body);
	}
	
	.cta-actions {
		flex-direction: column;
		width: 100%;
	}
	
	.cta-actions .btn-primary.large {
		width: 100%;
	}
}

/* Small mobile (320px - 480px) */
@media (max-width: 480px) {
	.hero-badge {
		font-size: var(--text-xs);
		padding: var(--space-1) var(--space-3);
	}
	
	.hero-stats {
		flex-direction: column;
		gap: var(--space-3);
	}
	
	.signs-showcase {
		grid-template-columns: repeat(2, 1fr);
	}
	
	.visual-container {
		height: 250px;
	}
	
	.floating-card.accent-1,
	.floating-card.accent-2 {
		display: none; /* Simplify on very small screens */
	}
}

/* ========================================
   EXTRA SMALL DEVICES - iPhone SE, Galaxy Fold
   ======================================== */

/* Extra Small Devices (max-width: 375px) */
@media (max-width: 375px) {
	.app-header {
		padding: 0 var(--space-3);
		height: 52px;
	}
	
	.app {
		padding-top: 52px;
	}
	
	.app-title {
		font-size: 1rem;
		letter-spacing: -0.01em;
	}
	
	.app-sidebar {
		width: 260px !important;
	}
	
	.app-main {
		padding: var(--space-3);
		min-height: calc(100vh - 52px);
	}
	
	.hero-title {
		font-size: 1.75rem;
		line-height: 1.15;
	}
	
	.hero-subtitle {
		font-size: 0.9375rem;
		line-height: 1.4;
	}
	
	.signs-showcase {
		grid-template-columns: repeat(3, 1fr);
		gap: var(--space-2);
	}
	
	.hamburger {
		width: 36px;
		height: 36px;
		top: 6px;
		left: 6px;
	}
	
	.hero-actions button,
	.row button {
		padding: var(--space-3) var(--space-5);
		font-size: 0.9375rem;
		min-height: 44px;
	}
	
	.card,
	.feature-card {
		padding: var(--space-3);
	}
}
